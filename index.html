<html>
  <head>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <title>タイトル</title>
<style>
  .minimizedButton {
    display: none !important;
  }
</style>	  
  </head>
  <body>
    <p>Hello World with Chat</p>
<button id="launchChatButton" onclick="launchChat()">
		Chat with our Agents!!! updated.
	</button>
	<script>
	function launchChat() {
		embeddedservice_bootstrap.utilAPI.launchChat()
	}
	</script>
	  
    <!-- ここに書きたい内容を書く -->
<script type='text/javascript'>
	function initEmbeddedMessaging() {
		try {
			embeddedservice_bootstrap.settings.language = 'en_US'; // For example, enter 'en' or 'en-US'
			embeddedservice_bootstrap.settings.hideChatButtonOnLoad = true;

			embeddedservice_bootstrap.init(
				'00DgK000000Dd3w',
				'ASA_github_io',
				'https://orgfarm-5838e02233-dev-ed.develop.my.site.com/ESWASAgithubio1741762667157',
				{
					scrt2URL: 'https://orgfarm-5838e02233-dev-ed.develop.my.salesforce-scrt.com'
				}
			);
window.addEventListener("onEmbeddedMessagingWindowMinimized", (event) => {
  console.log("Received the onEmbeddedMessagingWindowMinimized event…");
  console.log("Event detail: ", event.detail);
embeddedservice_bootstrap.settings.hideChatButtonOnLoad = true;
	embeddedservice_bootstrap.utilAPI.hideChatButton();
  const button = document.querySelector(".minimizedButtonWrapper");
  if (button) {
    button.style.display = "none";
  console.log("button found");
  }
  console.log("end clickevent");
	
});			
		} catch (err) {
			console.error('Error loading Embedded Messaging: ', err);
		}		
	};
	setInterval(() => {
  const btn = document.querySelector(".minimizedButton");
  if (btn && btn.style.display !== "none") {
    btn.style.display = "none";
  }
}, 500);
</script>
<script type='text/javascript' src='https://orgfarm-5838e02233-dev-ed.develop.my.site.com/ESWASAgithubio1741762667157/assets/js/bootstrap.min.js' onload='initEmbeddedMessaging()'></script>
    
  </body>
</html>
